version: "3"

services:
  nginx:
    image: nginx:alpine
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    ports:
      - "80:80"
    depends_on:
      - auth
      - contributor

  auth:
    build: ./authapp
    container_name: auth_service
    ports:
      - "5002:5002"

  contributer:
    build: ./contributorapp
    container_name: contributer_service
    ports:
      - "5003:5003"

